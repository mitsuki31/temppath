<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>Home - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    
    <h2><a href="index.html">Home</a></h2><h2><a href="https://github.com/mitsuki31/temppath.git" target="_blank" class="menu-item" id="project_git_repo" >GitHub Repo</a></h2><h3>Modules</h3><ul><li><a href="module-temppath.html">temppath</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-temppath.html#~createTempPath">createTempPath</a></li><li data-type='method' style='display: none;'><a href="module-temppath.html#~createTempPathSync">createTempPathSync</a></li><li data-type='method' style='display: none;'><a href="module-temppath.html#~getTempPath">getTempPath</a></li></ul></li></ul><h3><a href="global.html">Global</a></h3>
    
</nav>

<div id="main">
    

    



    


    <section class="package">
        <h3>@mitsuki31/temppath 0.3.1</h3>		
    </section>









    



    <section class="readme usertext">
        <article><h1>temppath</h1>
<p>A lightweight and multi-platform Node.js module designed to create temporary files
and directories. It can utilize the system's default temporary path or a user-specified
directory, offering flexibility and ease of use across different environments.</p>
<p>This module leverages system environment variables to determine the temporary directory
and will fallback to the built-in function <a href="https://nodejs.org/api/os.html#os_os_tmpdir"><code>os.tmpdir()</code></a>
if the module is incapable to determine the temporary directory provided by the system.</p>
<p>Here’s a detailed example demonstrating how to create a temporary directory using this module:</p>
<pre class="prettyprint source lang-javascript"><code>const temppath = require('@mitsuki31/temppath');

temppath.createTempPath((err, tempDir) => {
  if (err) console.error('Error creating temporary directory:', err);
  else console.log('Created temporary directory:', tempDir);
});
</code></pre>
<p>And here’s how you can create a temporary file:</p>
<pre class="prettyprint source lang-javascript"><code>const temppath = require('@mitsuki31/temppath');

temppath.createTempPath({ asFile: true }, (err, tempFile) => {
  if (err) console.error('Error creating temporary file:', err);
  else console.log('Created temporary file:', tempFile);
});
</code></pre>
<p>In the examples above:</p>
<ul>
<li>The first snippet creates a temporary directory within the system's default temporary path.</li>
<li>The second snippet creates a temporary file within the same system-based temporary path.</li>
</ul>
<p>It's that simple! With just a few lines of code, <code>temppath</code> allows you to handle temporary
file and directory creation effortlessly.</p>
<p>If you don't like callback-based function and want the <code>createTempPath</code> function as a
promise-based function. Try to promisify it using <code>util.promisify</code> function, like this:</p>
<pre class="prettyprint source lang-javascript"><code>const { promisify } = require('node:util');
const temppath = require('@mitsuki31/temppath');
// Promisify the function
const createTempPath = promisify(temppath.createTempPath);

(async () => {  // Need this block if use CommonJS module
  // Create a temporary file in current directory with extension '.foo' and
  // limit the maximum file name's length to 20 characters
  const tempFile = await createTempPath('.', {
    asFile: true,
    ext: 'foo',
    maxLen: 20
  });
  console.log(tempFile);
  // Output: b3du3b2156sb36bo9hgi.foo
})();
</code></pre>
<h2>About System Temporary Directory</h2>
<p>On different operating systems, the path to the temporary directory is specified by
various environment variables. These paths are used by the operating system and
applications to store temporary files. Below are the details for each operating system:</p>
<h3>Linux and macOS</h3>
<p>On Linux and macOS systems, the temporary directory path is provided by the environment
variable <code>TMPDIR</code>. This variable is widely recognized and used by applications for
temporary storage. If <code>TMPDIR</code> is not set, applications may fallback to using standard
directories such as <code>/tmp</code>.</p>
<p>You can check the temporary path provided by the system echoing the <code>TMPDIR</code> environment variable:</p>
<pre class="prettyprint source lang-bash"><code>echo $TMPDIR
</code></pre>
<h3>Windows</h3>
<p>On Windows systems, there are two primary environment variables that typically store
the path to the temporary directory: <code>TEMP</code> and <code>TMP</code>. Both variables usually point
to the same directory and are used interchangeably by the operating system and
applications to store temporary files.</p>
<p>You can check the temporary path provided by the system using this command:</p>
<pre class="prettyprint source lang-pwsh"><code>echo $env:TMP
echo $env:TEMP
</code></pre>
<p>If you're using Command Prompt try this instead:</p>
<pre class="prettyprint source lang-cmd"><code>echo %TMP%
echo %TEMP%
</code></pre>
<p>In summary, these environment variables ensure that temporary files are stored in a standard
location that can be easily accessed and cleaned up by the system or applications.</p>
<h2>APIs</h2>
<h3 id="getTempPath"><!-- Need some newlines -->
<p><code>getTempPath</code> (Function)</h3></p>
<pre class="prettyprint source lang-ts"><code>function getTempPath(tmpdir?: string, maxLen?: number = 32): string
</code></pre>
<p>Generates a temporary path based on the provided or system temporary directory.</p>
<p>This function utilizes a random UUID for the directory name, ensuring that each time
it is called, the path will be different from previous calls. The returned path can be
used for either a temporary file or directory, according to your preferences.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>tmpdir</code></td>
<td><code>string</code></td>
<td>The temporary directory to be used. If not provided or empty, it defaults to the system's temporary directory.</td>
</tr>
<tr>
<td><code>maxLen</code></td>
<td><code>number</code></td>
<td>The maximum characters' length of the generated temporary path.</td>
</tr>
</tbody>
</table>
<h4>Returns</h4>
<p>A string representing a generated temporary path with a random UUID that can be used
as temporary file or directory name.</p>
<p><strong>Type:</strong> <code>string</code></p>
<h4>Throws</h4>
<ul>
<li>
<p><code>TypeError</code><br>
Throws a <code>TypeError</code> if the provided <code>tmpdir</code> is not a string.</p>
</li>
<li>
<p><code>RangeError</code><br>
If the given <code>maxLen</code> is less than or equal to zero.</p>
</li>
</ul>
<h3><code>createTempPath</code> (Function)</h3>
<pre class="prettyprint source lang-ts"><code>function createTempPath(
  tmpdir?: string | TempPathOptions | CreateTempPathCallback,
  options?: TempPathOptions | CreateTempPathCallback,
  callback: CreateTempPathCallback
): void
</code></pre>
<p>Asynchronously creates a temporary path, either as a directory or file,
based on the provided or system temporary directory.</p>
<p>This function utilizes the <a href="#getTempPath">getTempPath</a> function.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>tmpdir</code></td>
<td><code>string</code> | <a href="https://mitsuki31.github.io/temppath/global.html#TempPathOptions"><code>TempPathOptions</code></a> | <a href="https://mitsuki31.github.io/temppath/global.html#CreateTempPathCallback"><code>CreateTempPathCallback</code></a></td>
<td>The temporary directory path. If an object is provided, it is treated as the <code>options</code> parameter. If a function is provided, it is treated as the <code>callback</code> parameter, and <code>tmpdir</code> will fallback to the temporary directory provided by the system.</td>
</tr>
<tr>
<td><code>options</code></td>
<td><a href="https://mitsuki31.github.io/temppath/global.html#TempPathOptions"><code>TempPathOptions</code></a> | <a href="https://mitsuki31.github.io/temppath/global.html#CreateTempPathCallback"><code>CreateTempPathCallback</code></a></td>
<td>Options for creating the temporary path. If a function is provided, it is treated as the <code>callback</code> parameter, and <code>options</code> is set to <code>{}</code> (an empty object).</td>
</tr>
<tr>
<td><code>callback</code></td>
<td><a href="https://mitsuki31.github.io/temppath/global.html#CreateTempPathCallback"><code>CreateTempPathCallback</code></a></td>
<td>A callback function to handle the result path or error. This is crucial and required, even when you wanted to omit all arguments.</td>
</tr>
</tbody>
</table>
<h4>Throws</h4>
<ul>
<li><code>TypeError</code><br>
If the given arguments or the extension name specified with incorrect type.</li>
</ul>
<h3><code>createTempPathSync</code> (Function)</h3>
<pre class="prettyprint source lang-ts"><code>function createTempPathSync(
  tmpdir?: string | TempPathOptions,
  options?: TempPathOptions
): string
</code></pre>
<p>Synchronously creates a temporary path, either as a directory or file, based on the provided or system temporary directory
and then returns a path that refers to the generated temporary directory or file.</p>
<p>This function utilizes the <a href="#getTempPath">getTempPath</a> function.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>tmpdir</code></td>
<td><code>string</code> | <a href="https://mitsuki31.github.io/temppath/global.html#TempPathOptions"><code>TempPathOptions</code></a> | <a href="https://mitsuki31.github.io/temppath/global.html#CreateTempPathCallback"><code>CreateTempPathCallback</code></a></td>
<td>The temporary directory path. If an object is provided, it is treated as the <code>options</code> parameter, and <code>tmpdir</code> will fallback to the temporary directory provided by the system.</td>
</tr>
<tr>
<td><code>options</code></td>
<td><a href="https://mitsuki31.github.io/temppath/global.html#TempPathOptions"><code>TempPathOptions</code></a> | <a href="https://mitsuki31.github.io/temppath/global.html#CreateTempPathCallback"><code>CreateTempPathCallback</code></a></td>
<td>Options for creating the temporary path.</td>
</tr>
</tbody>
</table>
<h4>Returns</h4>
<p>A string representating the path of the created temporary directory or file.</p>
<p><strong>Type:</strong> <code>string</code></p>
<h4>Throws</h4>
<ul>
<li>
<p><code>TypeError</code><br>
If the given arguments or the extension name specified with incorrect type.</p>
</li>
<li>
<p><code>Error</code><br>
Throws an <code>Error</code> if there is an issue creating the temporary directory or file.</p>
</li>
</ul>
<h2>Development</h2>
<h3>Initialize and Install Dependencies</h3>
<pre class="prettyprint source lang-bash"><code>npm install
</code></pre>
<h3>Build JSDoc</h3>
<p>Generated JSDocs will be in <code>docs</code> directory.</p>
<pre class="prettyprint source lang-bash"><code>npm run build:docs
</code></pre>
<h3>Test</h3>
<p>Tests are written using inbuilt <code>node:assert</code> module.</p>
<pre class="prettyprint source lang-bash"><code>npm test
</code></pre>
<p>Alternatively, you can run each test manually.</p>
<ul>
<li>
<p>Run CommonJS test.</p>
<pre class="prettyprint source lang-bash"><code>npm run test:cjs
</code></pre>
</li>
<li>
<p>Run ESModule test.</p>
<pre class="prettyprint source lang-bash"><code>npm run test:esm
</code></pre>
</li>
</ul>
<h2>License</h2>
<p>This project is licensed under the MIT License. For more details, see the <a href="https://github.com/mitsuki31/temppath/blob/master/LICENSE"><strong>LICENSE</strong></a> file.</p>
<!-- ::: Links ::: --></article>
    </section>






    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.2</a> on Tue Jul 09 2024 15:28:03 GMT+0700 (Western Indonesia Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>


<script src="scripts/collapse.js" defer></script>


</body>
</html>